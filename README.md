# 계좌 사용 시스템

### 프로젝트 소개
* 가상의 계좌를 생성하고 잔액을 충전하거나 거래에 이용할수 있는 시스템입니다.
* H2 DB, Redisson, AspectJ 를 사용합니다.

### 사용법
1. 사용자는 계좌를 생성,조회,삭제 할 수 있습니다.  
   한 사용자당 계좌는 10개 까지 생성 가능하며 삭제를 위해서는 잔액이 없어야합니다.

2. 계좌의 잔액을 사용하거나 거래를 취소할 수 있습니다.  
   이 과정에서 소유주인지 여부와 계좌의 상태(정상,정지) 를 체크 합니다.

3. Redisson 과 AspectJ 를 사용해 계좌에 접근(사용,취소) 시마다  
   계좌번호로 Lock 을 걸도록 하여 동시성 문제를 방지하였습니다.

### 문제와 해결
* 엔티티마다 중복되는 필드(아이디와 생성, 수정일자)를 매번 입력하기 힘들었는데  
  BaseEntity 를 생성해 상속 받도록 하여 중복 입력을 줄일수 있었다.  
  BaseEntity 사용시 @MappedSuperclass 를 사용하면 부모 엔티티의 속성만 이어받도록 할 수 있다.
